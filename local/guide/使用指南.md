# 使用指南

## 系统已配置完成 ✅

VitePress 动态侧边栏系统已经成功配置并可以使用了!

## 当前状态

- ✅ 文档同步目录: `docs/`
- ✅ 侧边栏配置: `.vitepress/config/sidebar.ts`

## 快速开始

### 1️⃣ 启动开发服务器(推荐)

在项目根目录运行:

```bash
pnpm run dev
```

这会同时启动:
- 📁 文件监控服务
- 🌐 VitePress 开发服务器

### 2️⃣ 测试文件监控

1. 在 `配置` 目录中创建一个新的 Markdown 文件,例如:

```markdown
# 我的第一篇文档

这是文档内容...
```

2. 保存文件后,监控系统会自动:
   - 检测到文件变化
   - 同步文件到 `docs/` 目录
   - 提取文件标题
   - 重新生成侧边栏配置
   - VitePress 自动刷新页面

3. 在浏览器中查看更新后的侧边栏

### 3️⃣ 组织文档结构

你可以在 `配置` 中创建子目录来组织文档:

```
C:\Work\md/
├── 前端开发/
│   ├── Vue入门.md
│   ├── React基础.md
│   └── JavaScript高级/
│       └── 闭包详解.md
├── 后端开发/
│   ├── Node.js.md
│   └── Python.md
└── 数据库/
    └── MySQL.md
```

侧边栏会自动按照目录结构生成层级菜单。

## 可用命令

| 命令 | 功能 | 使用场景 |
|------|------|----------|
| `pnpm run dev` | 启动监控 + 开发服务器 | 日常开发(推荐) |
| `pnpm run watch` | 仅启动文件监控 | 只需要监控文件变化 |
| `pnpm run generate` | 手动生成侧边栏 | 测试或一次性生成 |
| `pnpm run docs:dev` | 仅启动 VitePress | 不需要监控时 |
| `pnpm run docs:build` | 构建生产版本 | 部署前构建 |

## 工作流程示例

### 场景 1: 新增文档

1. 在 `配置` 中创建 `新文档.md`
2. 监控系统自动检测并处理
3. 侧边栏自动更新
4. 浏览器自动刷新

### 场景 2: 修改文档标题

1. 修改 `配置\某文档.md` 的一级标题
2. 保存文件
3. 侧边栏自动更新为新标题

### 场景 3: 删除文档

1. 删除 `配置` 中的某个文件
2. 监控系统自动检测
3. 侧边栏自动移除该项

### 场景 4: 重组目录结构

1. 在 `配置` 中移动文件或创建新文件夹
2. 监控系统自动检测
3. 侧边栏自动按新结构重新生成

## 配置自定义

如需修改监控目录或其他配置,编辑 `scripts/generate-sidebar.js`:

```
修改后重启监控服务即可生效。

## 注意事项

⚠️ **标题格式**: Markdown 一级标题必须使用 `# 标题` 格式(井号后有空格)

⚠️ **文件编码**: 确保 Markdown 文件使用 UTF-8 编码

⚠️ **监控目录**: 确保 `C:\Work\md` 目录存在且有读写权限

⚠️ **防抖延迟**: 文件变化后会等待 1 秒再处理,避免频繁触发
```

### 问题: 标题显示为文件名

**原因:** Markdown 文件中没有一级标题或格式不正确

**解决方案:**
在文件开头添加一级标题:
```markdown
# 正确的标题格式

文档内容...
```

### 问题: 某些文件没有被监控

**检查:** 文件是否在排除列表中?

查看 `scripts/generate-sidebar.js` 中的 `excludes` 配置。

## 下一步

现在你可以:

1. ✅ 运行 `pnpm run dev` 启动系统
2. ✅ 在 `配置` 中添加你的文档
3. ✅ 在浏览器中查看实时更新的文档站点
4. ✅ 享受自动化的文档管理体验!
