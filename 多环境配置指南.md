# 多环境配置指南

系统支持通过 `DOCS_ENV` 环境变量加载不同的配置文件，适用于开发、测试、生产等不同场景。

## 配置文件命名规范

系统会按照以下优先级尝试加载配置文件：

1. `docs-config.{env}.yaml` (最高优先级)
2. `docs-config.{env}.json`
3. `docs-config.yaml` (默认)
4. `docs-config.json` (兼容)

**支持json配置但是不推荐**

## 常用环境

### 1. 默认环境 (无 DOCS_ENV)
- **配置文件**: `docs-config.yaml`
- **用途**: 本地开发，默认配置
- **命令**: `pnpm run generate`

### 2. 生产环境 (DOCS_ENV=prod)
- **配置文件**: `docs-config.prod.yaml`
- **用途**: 构建部署，通常指向服务器路径
- **命令**: `pnpm run generate:prod`

### 3. 开发环境 (DOCS_ENV=dev)
- **配置文件**: `docs-config.dev.yaml`
- **用途**: 开发部署，指向本地路径
- **命令**: `pnpm run generate:dev`

## 使用示例

### 场景：本地开发 vs 生产构建

**本地开发 (`docs-config.dev.yaml`):**
```yaml
projects:
  - name: 工作文档
    sourceDir: C:\Work\MD  # 本地路径
    enabled: true

localFixedDocs:
  - text: 使用指南
    items: [...]
```

**生产环境 (`docs-config.prod.yaml`):**
```yaml
projects:
  - name: 工作文档
    sourceDir: /var/www/docs/work  # 服务器路径
    enabled: true

# 生产环境不包含文档
localFixedDocs: []

settings:
  debounceDelay: 0  # 不需要防抖
```

## 自定义环境

你可以创建任意环境的配置文件，例如测试环境 `test`：

1. 创建 `docs-config.test.yaml`
2. 运行命令：
   ```bash
   cross-env DOCS_ENV=test node scripts/generate-sidebar.js
   ```

## 注意事项

1. **文件存在性**: 如果指定了环境但对应的配置文件不存在，系统会自动回退到默认配置 (`docs-config.yaml`)。
